function binarySearch(uniques, id) {
    var searchWidth = Math.round(uniques.length / 2);
    var currentPos = Math.round(uniques.length / 2);
    while(searchWidth>0) {
        if(id < uniques[currentPos]) {
            // the id, if it exists, is in the first half of this section
            searchWidth = Math.round(searchWidth / 2);
            currentPos -= searchWidth;
        } else
        if(id > uniques[currentPos]) {
            // the id, if it exists, is in the second half of this section
            searchWidth = Math.round(searchWidth / 2);
            currentPos += searchWidth;
        } else if(id == uniques[currentPos]) {
            return currentPos;
        }
        console.log('id:'+id+',current:'+uniques[currentPos]+',searchWidth:'+searchWidth+',currentPos:'+currentPos);
        if(typeof(uniques[currentPos])=='undefined') {
            return -1;
        }
    }
    return -1;
}

function testThese(uniques) {
    console.log(uniques);
    for(var i of uniques) {
        console.log('testing for '+i);
        console.log(uniques[binarySearch(uniques,i)]+' == '+uniques[i]);
    }
}
testThese([1,4,7,10,34]);
//testThese([1,4,7,10,35, 46,69,102,345,400, 1023,1024]);
